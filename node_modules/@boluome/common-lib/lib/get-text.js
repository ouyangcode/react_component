'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _pinkiePromise = require('pinkie-promise');

var _pinkiePromise2 = _interopRequireDefault(_pinkiePromise);

require('fetch-detector');

require('fetch-ie8');

var _api = require('./api');

var _api2 = _interopRequireDefault(_api);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

window.Promise = _pinkiePromise2.default;
//fetch polyfill
//promise polyfill

exports.default = function (url) {
  return fetch((0, _api2.default)(url)).then(function (resp) {
    return resp.text();
  });
};