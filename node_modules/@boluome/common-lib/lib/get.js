'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _api = require('./api');

var _api2 = _interopRequireDefault(_api);

var _stringifyQuery = require('./stringify-query');

var _stringifyQuery2 = _interopRequireDefault(_stringifyQuery);

var _generateHeader = require('./generate-header');

var _generateHeader2 = _interopRequireDefault(_generateHeader);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = function (url) {
  var data = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
  var headers = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};
  return fetch((0, _api2.default)('' + url + (0, _stringifyQuery2.default)(data)), { headers: (0, _generateHeader2.default)(headers) }).then(function (resp) {
    return resp.json();
  });
};