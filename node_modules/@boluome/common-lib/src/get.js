import api from './api'
import stringifyQuery from './stringify-query'
import generateHeader from './generate-header'

export default (
  (url, data = {}, headers = {}) => (
    fetch(
      api(`${ url }${ stringifyQuery(data) }`),
      { headers: generateHeader(headers) }
    ).then(resp => resp.json())
  )
)
