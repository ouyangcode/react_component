import React, { Component } from 'react'

import { mapObjIndexed } from '@boluome/common-lib'

//loading
export Loading from './loading'
//mask
export Mask from './mask'
//slide-page
export SlidePage from './slide-page'
//promotion
export { Promotion, PromotionDisplay } from './promotion'
//address
export AddressSearch from './address-search'
//contact
export { ContactList, ContactForm } from './contact'
//citySearch
export CitySearch from './city-search'

export const wrap = mapFunctions => WrappedComponent =>
class extends Component {
  constructor(props) {
    super(props)
    const { dispatch } = props

    mapObjIndexed(
      (v, k, o) => { this[k] = v },
      mapFunctions(dispatch, props, this)
    )
  }
  render() {
    return <WrappedComponent { ...this.props } { ...this.state } />
  }
}
